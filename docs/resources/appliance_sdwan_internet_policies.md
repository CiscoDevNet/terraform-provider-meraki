---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "meraki_appliance_sdwan_internet_policies Resource - terraform-provider-meraki"
subcategory: "Appliances"
description: |-
  This resource can manage the Appliance SDWAN Internet Policies configuration.
---

# meraki_appliance_sdwan_internet_policies (Resource)

This resource can manage the `Appliance SDWAN Internet Policies` configuration.

## Example Usage

```terraform
resource "meraki_appliance_sdwan_internet_policies" "example" {
  network_id = "L_123456"
  wan_traffic_uplink_preferences = [
    {
      fail_over_criterion            = "poorPerformance"
      preferred_uplink               = "wan1"
      builtin_performance_class_name = "VoIP"
      custom_performance_class_id    = "123456"
      performance_class_type         = "custom"
      traffic_filters = [
        {
          type             = "custom"
          protocol         = "tcp"
          destination_cidr = "any"
          destination_port = "any"
          destination_applications = [
            {
              id   = "meraki:layer7/application/3"
              name = "DNS"
              type = "major"
            }
          ]
          source_cidr = "any"
          source_host = 254
          source_port = "1-1024"
          source_vlan = 10
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `network_id` (String) Network ID
- `wan_traffic_uplink_preferences` (Attributes List) Policies with respective traffic filters for an MX network. Note: these policies are shared (merged) with meraki_appliance_traffic_shaping_uplink_selection resource's wan_traffic_uplink_preferences attribute. It is recommended to only use one resource for them, not both at the same time: Deleting this resource clears preferences created in meraki_appliance_traffic_shaping_uplink_selection, which is detected as a change by the provider on a subsequent apply. The same happens the other way around, but the change is not detected in sdwan_internet_policies. (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences))

### Read-Only

- `id` (String) The id of the object

<a id="nestedatt--wan_traffic_uplink_preferences"></a>
### Nested Schema for `wan_traffic_uplink_preferences`

Required:

- `preferred_uplink` (String) Preferred uplink for uplink preference rule. Must be one of: `wan1`, `wan2`, `bestForVoIP`, `loadBalancing` or `defaultUplink`
  - Choices: `bestForVoIP`, `defaultUplink`, `loadBalancing`, `wan1`, `wan2`
- `traffic_filters` (Attributes List) Traffic filters (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters))

Optional:

- `builtin_performance_class_name` (String) Name of builtin performance class. Must be present when performanceClass type is `builtin` and value must be one of: `VoIP`
  - Choices: `VoIP`
- `custom_performance_class_id` (String) ID of created custom performance class, must be present when performanceClass type is 'custom'
- `fail_over_criterion` (String) WAN failover and failback behavior
  - Choices: `poorPerformance`, `uplinkDown`
- `performance_class_type` (String) Type of this performance class. Must be one of: `builtin` or `custom`
  - Choices: `builtin`, `custom`

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters`

Required:

- `type` (String) Traffic filter type. Must be `custom`, `major_application`, `application (NBAR)`, if type is `application`, you can pass either an NBAR App Category or Application
  - Choices: `application`, `custom`, `majorApplication`

Optional:

- `destination_applications` (Attributes List) list of application objects (either majorApplication or nbar) (see [below for nested schema](#nestedatt--wan_traffic_uplink_preferences--traffic_filters--destination_applications))
- `destination_cidr` (String) CIDR format address (e.g.'192.168.10.1', which is the same as '192.168.10.1/32'), or 'any'
- `destination_port` (String) E.g.: 'any', '0' (also means 'any'), '8080', '1-1024'
- `protocol` (String) Protocol of the traffic filter. Must be one of: `tcp`, `udp`, `icmp6` or `any`
  - Choices: `any`, `icmp6`, `tcp`, `udp`
- `source_cidr` (String) CIDR format address (e.g.'192.168.10.1', which is the same as '192.168.10.1/32'), or 'any'. Cannot be used in combination with the 'vlan' property
- `source_host` (Number) Host ID in the VLAN. Should not exceed the VLAN subnet capacity. Must be used along with the 'vlan' property and is currently only available under a template network.
- `source_port` (String) E.g.: 'any', '0' (also means 'any'), '8080', '1-1024'
- `source_vlan` (Number) VLAN ID of the configured VLAN in the Meraki network. Cannot be used in combination with the 'cidr' property and is currently only available under a template network.

<a id="nestedatt--wan_traffic_uplink_preferences--traffic_filters--destination_applications"></a>
### Nested Schema for `wan_traffic_uplink_preferences.traffic_filters.destination_applications`

Optional:

- `id` (String) Id of the major application, or a list of NBAR Application Category or Application selections
- `name` (String) Name of the major application or application category selected
- `type` (String) app type (major or nbar)
